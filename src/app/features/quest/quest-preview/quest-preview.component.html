<div class="preview-container" [ngClass]="service.showPreview ? 'show-preview' : 'hide-preview'">
  <perfect-scrollbar class="transparent">
    <div class="preview-content quest-preview">
      <h5 *ngIf="!!service.title">{{ service.title }}</h5>
      <p *ngIf="!!service.level">Level: {{ service.level }}</p>
      <p *ngIf="!!service.minLevel">Requires level: {{ service.minLevel }}</p>
      <p *ngIf="!!service.side">Side: &nbsp;<span class="side {{ service.side.toLowerCase() }}"></span> {{ service.side }}</p>
      <p *ngIf="!service.side && service.races">Races: {{ service.races }}</p>
      <!-- Quest starter -->
      <p *ngIf="service.questGivenByItem | async as qitem">
        <img src="assets/img/quest/quest_start.gif">
         Start:
        <keira-icon [size]="'small'" [itemId]="qitem"></keira-icon>
        <strong class="colored">{{ service.questStarterItem | async }}</strong>
      </p>
      <div *ngIf="service.creatureQueststarter.length > 0">
        <p *ngFor="let q of service.creatureQueststarter">
          <img src="assets/img/quest/quest_start.gif"> NPC Start: <strong class="colored">{{ service.mysqlQueryService.getCreatureNameById(q.id) | async }}</strong>
        </p>
      </div>
      <div *ngIf="service.gameobjectQueststarter.length > 0">
        <p *ngFor="let q of service.gameobjectQueststarter">
          <img src="assets/img/quest/quest_start.gif"> GO Start: <strong class="colored">{{ service.mysqlQueryService.getGameObjectNameById(q.id) | async }}</strong>
        </p>
      </div>
      <!-- Quest ender -->
      <div *ngIf="service.creatureQuestender.length > 0">
        <p *ngFor="let q of service.creatureQuestender">
          <img src="assets/img/quest/quest_end.gif"> NPC End: <strong class="colored">{{ service.mysqlQueryService.getCreatureNameById(q.id) | async }}</strong>
        </p>
      </div>
      <div *ngIf="service.gameobjectQuestender.length > 0">
        <p *ngFor="let q of service.gameobjectQuestender">
          <img src="assets/img/quest/quest_end.gif"> GO End: <strong class="colored">{{ service.mysqlQueryService.getGameObjectNameById(q.id) | async }}</strong>
        </p>
      </div>
      <p>{{ service.sharable }}</p>
      <p *ngIf="service.difficultyLevels()">
        Difficulty:
        <span class="r0" *ngIf="!!service.difficulty['red']">    {{ service.difficulty['red'] }}    </span>
        <span class="r1" *ngIf="!!service.difficulty['orange']"> {{ service.difficulty['orange'] }} </span>
        <span class="r2" *ngIf="!!service.difficulty['yellow']"> {{ service.difficulty['yellow'] }} </span>
        <span class="r3" *ngIf="!!service.difficulty['green']">  {{ service.difficulty['green'] }}  </span>
        <span class="r4" *ngIf="!!service.difficulty['grey']">   {{ service.difficulty['grey'] }}   </span>
      </p>
    </div>
  </perfect-scrollbar>
</div>

<button class="btn btn-secondary btn-sm toggle-preview-button" (click)="service.showPreview = !service.showPreview">
  <i class="fas {{ service.showPreview ? 'fa-angle-double-right' : 'fa-angle-double-left' }}"></i>
</button>
